Итак давайте создадим деплоймент. 

Для этого создадим deployment.yaml файл с описанием объекта Deployment.  **Нажмем на кнопку "Copy to editor"**.

Как и в любом объекте Kubernetes есть ряд стандартных полей, мы на них останавливаться не будем. Посмотрим на описание спецификации spec. 

replicas 2 - это количество подов, которое запустит контроллер деплоймента. 

селектор указывает на то, что под управлением деплоймента будут поды с меткой app hello-demo. 

стратегия обновления на новую версию - rolling update. 

template - это шаблон пода, по которому будут создаваться поды деплойментом. В метаданных у этого шаблона нет имени, потому что деплоймент сам назначает это имя. Проставляемые метки обязаны включать в себя метки из селектора. Спецификация пода используется  из прошлых демонстраций. 


Применим манифест **командой kubectl apply**. Команда kubectl apply создает объект, если он не был еще создан и обновляет, если он изменился. 

**Во второй вкладке терминала** можем наблюдать за тем, как создаются поды. 

Дождемся, пока деплоймент раскатится - т.е. когда все поды будут в статусе Running. 

Состояние деплоймента можно получить с помощью команд kubectl get deploy hello-deployment. 

**Запускаем команду.**

Видим количество реплик деплоймента, которые готовы принимать трафик (READY) - 2 , колчество доступных реплик (available) - 2 и количество реплик с последней версией (UP-TO-DATE) - 2.

Более подробную информацию можно увидеть, **запустив команду** kubectl describe deploy hello-deployment.

